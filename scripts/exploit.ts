// South exploit code for alpaca finance
import { ethers, upgrades, waffle } from "hardhat";
import { Overrides, Signer, BigNumberish, utils, Wallet } from "ethers";
import chai from "chai";
import { solidity } from "ethereum-waffle";
import "@openzeppelin/test-helpers";

import {
  MockWBNB__factory,
  WETH,
  WETH__factory,
} from '../typechain/'

async function main() {
  let hhFunded: Signer
  let Panda: Signer
  let IceBear: Signer

  [hhFunded, Panda, IceBear] = (await ethers.getSigners())
  //MockWBNB was used for testnet testing of Alpaca Finance
  //const wbnbTokenAddr = '0xd7D069493685A581d27824Fc46EdA46B7EfC0063' //testnet

  const wbnbTokenAddr = '0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c'
  const wbnbAsFunded = WETH__factory.connect(wbnbTokenAddr, hhFunded)
  await wbnbAsFunded.deposit({value:ethers.utils.parseEther('10000.0')}); //hhFunded(EOA) --> Contract(WBNB)

  //await wbnbAsFunded.deposit(ethers.utils.parseEther('10000.0')); //hhFunded(EOA) --> Contract(WBNB)
  console.log(await hhFunded.getAddress())
  console.log(await wbnbAsFunded.balanceOf(await hhFunded.getAddress()))
  //console.log(await wbnbToken.symbol())
}//end of main

main()
  .then(() => process.exit(0))
  .catch((error) => {
    console.error(error)
    process.exit(1)
  })
